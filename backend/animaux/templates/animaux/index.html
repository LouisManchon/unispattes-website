{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unis'Pattes - Refuge Animalier</title>
    <link rel="stylesheet" href="{% static 'animaux/css/style.css' %}">
</head>
<body>

    <!-- ========== HEADER ========== -->
    <header class="main-header">
        <nav class="navbar">
            <div class="logo">
                <span class="logo-icon">üêæ</span>
                <span class="logo-text">Unis'Pattes</span>
            </div>

            <ul class="nav-links">
                <li><a href="{% url 'animaux:accueil' %}">Accueil</a></li>
                <li><a href="{% url 'animaux:nos_animaux' %}">Nos animaux</a></li>
                <li><a href="{% url 'animaux:a_propos' %}">√Ä propos</a></li>
                <li><a href="{% url 'animaux:accueil' %}#contact">Contact</a></li>

                {% if user.is_authenticated %}
                <!-- ‚úÖ UTILISATEUR CONNECT√â -->
                    <li>
                        <span class="user-greeting">
                            üë§ Bonjour {{ user.first_name|default:user.email }}
                        </span>
                    </li>
                    <li>
                        <a href="{% url 'users:deconnexion' %}" class="btn-logout">
                            Se d√©connecter
                        </a>
                    </li>
                {% else %}
                    <!-- ‚ùå UTILISATEUR NON CONNECT√â -->
                    <li>
                        <a href="{% url 'users:connexion' %}?next={{ request.path }}" class="account-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                        </a>
                    </li>
                {% endif %}
            </ul>

            <div class="burger">
                <div class="line1"></div>
                <div class="line2"></div>
                <div class="line3"></div>
            </div>
        </nav>
    </header>

    <!-- ========== HERO (image + texte) ========== -->
    <section id="accueil" class="hero">
        <div class="hero-content">
            <h1>Un foyer pour chaque animal</h1>
            <p>Nous recueillons et accompagnons chiens et chats en attente d'une famille aimante.</p>
            <a href="{% url 'animaux:nos_animaux' %}" class="btn">Voir les animaux</a>
        </div>
    </section>

    <!-- ========== √Ä PROPOS ========== -->
    <section id="apropos" class="about-section">
        <div class="container">
            <div class="about-grid">

                <!-- Texte √† gauche -->
                <div class="texte-gauche">
                    <h2>√Ä propos de nous</h2>
                    <p>
                        Depuis 2010, <strong>Unis'Pattes</strong> recueille et soigne
                        chiens et chats en d√©tresse dans la r√©gion.
                    </p>
                    <p>
                        Notre mission : offrir une seconde chance √† chaque animal
                        et encourager l'adoption responsable.
                    </p>
                    <p>
                        Plus de <strong>500 animaux</strong> ont trouv√© une famille
                        gr√¢ce √† notre √©quipe de b√©n√©voles passionn√©s.
                    </p>
                </div>

                <!-- Image √† droite -->
                <div class="image-droite">
                    <img src="{% static 'animaux/images/accueil-chien-chat.png' %}" alt="Notre √©quipe avec les animaux">
                </div>

            </div>
        </div>
    </section>

    <!-- ========== ANIMAUX √Ä L'ADOPTION ========== -->
    <section class="adoption-section" id="animaux">
        <div class="container">

            <!-- Titre de la section -->
            <div class="adoption-header">
                <h2>Nos animaux √† l'adoption</h2>
            </div>

            <!-- Grille des 3 animaux -->
            <div class="animaux-grid">

                {% for animal in animaux_recents %}
                <!-- ANIMAL {{ forloop.counter }} -->
                <div class="animal-card">
                    <div class="animal-image-rond">
                        {% if animal.photo %}
                            <img src="{{ animal.photo.url }}" alt="{{ animal.nom }}">
                        {% else %}
                            <img src="{% static 'animaux/images/default-animal.png' %}" alt="{{ animal.nom }}">
                        {% endif %}
                    </div>
                    <div class="animal-info-card">
                        <h3>{{ animal.nom }}</h3>
                        <p>{{ animal.get_age_display }} ‚Ä¢ {{ animal.get_symbole_sexe }} {{ animal.get_sexe_display }}</p>
                    </div>
                    <a href="{% url 'animaux:nos_animaux' %}" class="btn-adoption">En savoir plus</a>
                </div>
                {% empty %}
                <!-- SI AUCUN ANIMAL -->
                <div class="animal-card">
                    <p>Aucun animal disponible pour le moment.</p>
                </div>
                {% endfor %}

            </div>

        </div>
    </section>

    <section id="comment-adopter" class="comment-adopter-section">
        <div class="container">

            <!-- Titre de la section -->
             <div class="comment-adopter-header">
                <h2>Comment adopter</h2>
            </div>

            <!-- Grille des 4 √©tapes -->
            <div class="etapes-grid">

                <!-- √âTAPE 1 -->
                <div class="etape-card">
                    <div class="etape-icone">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                    </div>
                    <div class="etape-numero">1</div>
                    <h3>Choisissez un animal</h3>
                    <p>Parcourez nos profils et trouvez votre futur compagnon</p>
                </div>

                <!-- √âTAPE 2 -->
                <div class="etape-card">
                    <div class="etape-icone">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                    </div>
                    <div class="etape-numero">2</div>
                    <h3>Remplir le formulaire</h3>
                    <p>Compl√©tez notre formulaire pour nous parler de vous</p>
                </div>

                <!-- √âTAPE 3 -->
                <div class="etape-card">
                    <div class="etape-icone">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                        </svg>
                    </div>
                    <div class="etape-numero">3</div>
                    <h3>On vous contacte</h3>
                    <p>Notre √©quipe vous appelle pour organiser une rencontre</p>
                </div>

                <!-- √âTAPE 4 -->
                <div class="etape-card">
                    <div class="etape-icone">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </div>
                    <div class="etape-numero">4</div>
                    <h3>Rencontrez l'animal</h3>
                    <p>Venez faire connaissance au refuge avant l'adoption</p>
                </div>

            </div>

            <!-- Bouton final -->
            <div class="comment-adopter-footer">
                <a href="{% url 'animaux:nos_animaux' %}" class="btn-voir-animaux">Voir tous nos animaux</a>
            </div>
        </div>
    </section>

    <!-- ========================================
    FOOTER
    ======================================== -->
    <footer id="contact" class="main-footer">
        <div class="container">
            <div class="footer-content">

                <!-- COLONNE 1 : LOGO + DESCRIPTION -->
                <div class="footer-column">
                    <div class="footer-logo">
                        <span class="logo-icon">üêæ</span>
                        <span class="logo-text">Unis'Pattes</span>
                    </div>
                    <p class="footer-description">
                        Nous ≈ìuvrons chaque jour pour offrir une seconde chance aux animaux abandonn√©s.
                        Adoptez, sauvez une vie.
                    </p>
                </div>

                <!-- COLONNE 2 : LIENS RAPIDES -->
                <div class="footer-column">
                    <h3>Liens rapides</h3>
                    <ul class="footer-links">
                        <li><a href="{% url 'animaux:accueil' %}">Accueil</a></li>
                        <li><a href="{% url 'animaux:nos_animaux' %}">Nos animaux</a></li>
                        <li><a href="{% url 'animaux:a_propos' %}">√Ä propos</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>

                <!-- COLONNE 3 : CONTACT -->
                <div class="footer-column">
                    <h3>Contact</h3>
                    <ul class="footer-contact">
                        <li>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                <circle cx="12" cy="10" r="3"></circle>
                            </svg>
                            <span>12 Route de Lab√®ge, 31400 Toulouse</span>
                        </li>
                        <li>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                            </svg>
                            <span>01 23 45 67 89</span>
                        </li>
                        <li>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                <polyline points="22,6 12,13 2,6"></polyline>
                            </svg>
                            <span>contact@refuge-animalier.fr</span>
                        </li>
                    </ul>
                </div>

            </div>

            <!-- COPYRIGHT -->
            <div class="footer-bottom">
                <p>&copy; 2024 Refuge Animalier. Tous droits r√©serv√©s.</p>
            </div>
        </div>
    </footer>

    <!-- ========== SCRIPT BURGER MENU ========== -->
    <script>
        const burger = document.querySelector('.burger');
        const navLinks = document.querySelector('.nav-links');
        const allLinks = document.querySelectorAll('.nav-links a');

        // Ouvre/ferme le menu burger
        if (burger && navLinks) {
            burger.addEventListener('click', function() {
                burger.classList.toggle('toggle');
                navLinks.classList.toggle('active');
            });

            // Ferme le menu quand on clique sur un lien
            allLinks.forEach(link => {
                link.addEventListener('click', function() {
                    burger.classList.remove('toggle');
                    navLinks.classList.remove('active');
                });
            });
        }
    </script>

</body>
</html>
